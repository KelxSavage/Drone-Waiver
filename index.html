<!DOCTYPE html>
<html>
<head>
<title>Drone Racing Waiver</title>
<style>
body { font-family: Arial; max-width:600px; margin:auto; }
input, textarea { width:100%; padding:10px; margin:10px 0; }
button { background:black; color:white; padding:15px; }
</style>
</head>

<body>
<h2>Drone Racing Waiver</h2>

<form action="https://formsubmit.co/00ce3a8518aaf4e0d1093828f1eab7f7" method="POST" onsubmit="return validateForm()">

<input type="text" name="Participant Name" placeholder="Participant Name" required>

<input type="number" id="age" name="Age" placeholder="Age" required>

<input type="text" id="guardian" name="Guardian Name" placeholder="Parent/Guardian (only if under 18)">

<input type="email" name="Email" placeholder="Email" required>

<input type="text" name="Phone" placeholder="Phone Number" required>

<textarea id="waiverText" readonly>
DRONE RACING LIABILITY WAIVER & RELEASE

I understand that participation in drone racing involves small flying aircraft and carries risks including, but not limited to, minor injury, property damage, or equipment malfunction.

I voluntarily choose to participate (or allow my child to participate) in drone racing activities operated by Velocity Labs by Kel Savage.

I agree to follow all safety instructions and acknowledge that failure to do so may result in removal from the activity.

I release and hold harmless Velocity Labs, its operators, staff, volunteers, and event hosts from all liability, claims, or demands arising from participation, except in cases of gross negligence.

If I am signing on behalf of a minor, I certify that I am the parent or legal guardian and that I have the legal authority to sign this agreement.

By signing below, I acknowledge that I have read and agree to this waiver.
</textarea>

<label>Type your full name as signature</label>
<input type="text" name="Signature" id="signature" required>

<input type="hidden" name="_template" value="table">

<!-- Sends copy to signer -->
<input type="hidden" name="_autoresponse" value="Thank you for signing the Velocity Labs Drone Racing Waiver. A copy of your agreement is attached. Fly safe!">

<!-- Redirect after submit -->
<input type="hidden" name="_next" value="thankyou.html">

<button type="submit">I Agree & Race</button>
</form>

<br>
<button onclick="downloadPDF()">Download Waiver PDF</button>

<script>
function validateForm() {
  var age = document.getElementById("age").value;
  var guardian = document.getElementById("guardian").value;

  if (age < 18 && guardian.trim() === "") {
    alert("Parent or Guardian name is required for participants under 18.");
    return false;
  }
  return true;
}

function downloadPDF() {
  var name = document.querySelector('input[name="Participant Name"]').value;
  var sig = document.getElementById("signature").value;
  var waiver = document.getElementById("waiverText").value;

  var content = "Participant: " + name + "\nSignature: " + sig + "\n\n" + waiver;

  var blob = new Blob([content], { type: "application/pdf" });
  var link = document.createElement("a");
  link.href = window.URL.createObjectURL(blob);
  link.download = "Drone_Waiver.pdf";
  link.click();
}
</script>

</body>
</html>
